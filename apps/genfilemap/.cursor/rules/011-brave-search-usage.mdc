---
description: WHEN the agent’s answer may be outdated due to model knowledge cutoff TO ensure up-to-date accuracy YOU MUST use the pre-configured brave-search MCP server on relevant queries
globs:
alwaysApply: false
---
{
  "when": "the agent identifies that a user query involves time-sensitive, version-dependent, or recently changed information (such as technology, APIs, tools, best practices, standards, releases, news, or any data likely to change since the model’s knowledge cutoff date)",
  "to": "ensure the agent’s response is based on the most current and authoritative information available",
  "you_must": [
    "Initiate a tool call to the pre-configured brave-search MCP server using a precise, context-relevant, and concise query.",
    "Use brave-search ONLY if the knowledge gap could impact answer accuracy; do NOT use for static facts, universal truths, or information unlikely to change over time.",
    "Avoid redundant, overly broad, or exploratory queries; maximize token and quota efficiency.",
    "Analyze and synthesize the most relevant results into the response; if no results are found, acknowledge the gap in the output.",
    "Indicate in the response that a web search was performed when new information is included from brave-search.",
    "Reuse cached or recent results for similar queries if accuracy will not be affected by time-sensitivity."
  ],
  "validation_criteria": [
    "Rule must be formatted as a valid JSON object containing fields: when, to, you_must, validation_criteria, in that order.",
    "The tool call must target the pre-configured brave-search MCP server and use a specific query relevant to the context.",
    "The agent output must state when information from brave-search is included due to a knowledge gap.",
    "Rule is NOT triggered for static or unchanging information.",
    "Redundant, ambiguous, or exploratory queries must not be issued.",
    "Proper handling of empty or no-result search cases is required.",
    "File includes valid YAML frontmatter per the style guide."
  ],
  "compliant_example": {
    "when": "user asks: 'What is the latest stable version of Node.js?' and the model's knowledge cutoff is before the current date",
    "to": "provide the latest Node.js version number",
    "you_must": "call brave-search MCP server with the query 'latest stable Node.js version', include the result in the answer, and note the info is from a web search",
    "validation_criteria": [
      "Answer includes 'As of May 2025, the latest stable version of Node.js is XX.X.X (source: Brave Search)'"
    ]
  },
  "non_compliant_example": {
    "when": "user asks: 'What is gravity?'",
    "to": "explain the universal law of gravity",
    "you_must": "respond using internal knowledge only; no brave-search is required or allowed",
    "validation_criteria": [
      "No web search should be triggered for static, unchanging scientific facts"
    ]
  },
  "danger": {
    "critical_violations": [
      "NEVER use brave-search MCP for queries where information is static or unaffected by time.",
      "NEVER issue vague, redundant, or exploratory tool calls.",
      "NEVER omit notification to user when providing information sourced from a web search."
    ],
    "consequences": [
      "Wasted tool call quota and tokens.",
      "User receives irrelevant, unnecessary, or misleading information.",
      "Agent may lose user trust by failing to explain its sources."
    ]
  }
}
