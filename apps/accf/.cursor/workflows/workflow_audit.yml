# WORKFLOW AUDIT WORKFLOW

expectation: validated_audit_report_and_recommendations
completion: audit_report_and_recommendations_in_standard_locations

directives:
  - "This workflow is an explicit order. All steps must be executed as written. Do not improvise, skip, or treat steps as optional."
  - "The time call is required to ensure the agent is aware of the real current date/time, not its model cutoff."
  - "Load all relevant rules, standards, and compliance requirements before proceeding."

references:
  Profile: .cursor/profiles/workflow_audit_agent_profile.yml
  Output_Template: .cursor/templates/workflow_audit_output_template.yml
  Documentation: docs/standards/workflow_audit_workflow.md
  Standards: [docs/standards/workflow_generation_workflow.md, docs/standards/documentation-standards.md]

phases:
  profile_initialization:
    description: "Load the workflow audit agent profile, perform a time check, and load foundational rules."
    tools: [read_file, fetch_rules, mcp_time_current_time]
    steps:
      - tool: mcp_time_current_time
        validation: time_checked
      - tool: read_file
        params:
          target_file: .cursor/profiles/workflow_audit_agent_profile.yml
        validation: agent_profile_loaded
      - tool: fetch_rules
        params:
          rule_names: ["002-tool-usage-and-optimize", "200-project-design-and-dev-process", "501-tool-operation-validation", "800-development-best-practices", "300-documentation-standards"]
        validation: foundational_rules_loaded
    gates: [time_checked, agent_profile_loaded, foundational_rules_loaded]

  intake:
    description: "Capture the intended purpose, context, and success criteria for the workflow under review."
    tools: [prompt_user, read_file]
    steps:
      - intention_analysis → workflow_under_review_identified → context_and_purpose_captured
      - success_criteria_identification → success_criteria_documented
    gates: [context_and_purpose_captured, success_criteria_documented]

  structural_completeness_check:
    description: "Verify all required phases, references, validation gates, and reporting are present."
    tools: [read_file]
    steps:
      - workflow_structure_analysis → required_elements_checklist_created
      - validation_gates_and_reporting_verified
    gates: [required_elements_checklist_created, validation_gates_and_reporting_verified]

  syntax_standards_validation:
    description: "Check for correct syntax, naming conventions, and documentation standards."
    tools: [run_terminal_cmd, read_file]
    steps:
      - syntax_validation → naming_conventions_check → documentation_standards_check
    gates: [syntax_validated, naming_conventions_validated, documentation_standards_validated]

  quality_effectiveness_assessment:
    description: "Judge logical soundness, clarity, error handling, validation, and feedback mechanisms. Assess if the workflow is actionable and likely to succeed in real-world use."
    tools: [read_file, prompt_user]
    steps:
      - logical_soundness_review → clarity_and_actionability_assessment
      - error_handling_and_validation_mechanisms_reviewed
    gates: [logical_soundness_validated, clarity_and_actionability_validated, error_handling_and_validation_reviewed]

  usability_maintainability:
    description: "Evaluate if the workflow is understandable, modular, and easy to maintain or adapt."
    tools: [read_file, prompt_user]
    steps:
      - modularity_and_clarity_check → maintainability_and_adaptability_assessment
    gates: [modularity_and_clarity_validated, maintainability_and_adaptability_validated]

  practicality_real_world_value:
    description: "Determine if the workflow will achieve its intended results, flag unnecessary complexity, and look for evidence of thoughtful, context-aware design."
    tools: [read_file, prompt_user]
    steps:
      - real_world_utility_assessment → unnecessary_complexity_flagged
      - context_aware_design_evaluated
    gates: [real_world_utility_validated, unnecessary_complexity_flagged, context_aware_design_validated]

  recommendations_scoring:
    description: "Summarize findings, provide concrete suggestions, and score the workflow on clarity, effectiveness, completeness, and usability."
    tools: [edit_file, prompt_user]
    steps:
      - findings_summarized → actionable_recommendations_created
      - scoring_performed → summary_tables_generated
    gates: [findings_summarized, actionable_recommendations_created, scoring_performed, summary_tables_generated]

  output_reporting:
    description: "Save a detailed audit report in docs/applications/ACCF/standards/[workflow_name]_audit_report.md using the audit output template."
    tools: [edit_file]
    steps:
      - tool: edit_file
        params:
          target_file: docs/applications/ACCF/standards/[workflow_name]_audit_report.md
          code_edit: generated_audit_report_based_on_template
        validation: audit_report_saved
    gates: [audit_report_saved]

failure_prevention:
  avoid:
    - unclear_purpose
    - missing_phases
    - incomplete_validation
    - undocumented_audit
    - standards_noncompliance
    - vague_queries
    - ambiguous_paths
    - uncommitted_changes
    - skipped_steps
    - missing_time_call
    - insufficient_iteration
  require:
    - purpose_clearly_defined
    - phases_and_steps_mapped
    - validation_criteria_explicit
    - audit_documented
    - standards_compliance
    - actionable_queries
    - explicit_paths
    - git_commit_successful
    - audit_refined_to_point_of_diminishing_returns

success_validation:
  before_completion:
    - audit_report_saved
    - findings_summarized
    - actionable_recommendations_created
    - scoring_performed
    - summary_tables_generated
  output_requirements: audit_report_and_recommendations_in_standard_locations
