---
description: "use when IMPLEMENTING OBSERVABILITY to ENFORCE LOGS, METRICS, AND ALERTS for PRODUCTION MONITORING"
globs:
alwaysApply: false
---

# Observability Rules

- Produce JSON logs with trace_id.
- Expose `/metrics` Prometheus endpoint.
- RED metrics: request_rate, error_rate, latency.
- Alert: error_rate >1% for 5m -> PagerDuty.

- Expose `/metrics` Prometheus endpoint.
- RED metrics: request_rate, error_rate, latency.
- Alert: error_rate >1% for 5m -> PagerDuty.

- RED metrics: request_rate, error_rate, latency.
- Alert: error_rate >1% for 5m -> PagerDuty.

- RED metrics: request_rate, error_rate, latency.
- Alert: error_rate >1% for 5m -> PagerDuty.
